Architecture-Driven Modernization (ADM) which has been proposed by OMG (Object Management Group) and advocates conducting refactoring following the principles of MDA (Model-Driven Architecture)~\cite{Ulrich:2010:IST:1841736} has become a great candidate since it aims to promote \textit{(i)} portability, \textit{(ii)} interoperability and \textit{(iii)} reusability. According to the OMG the most important artifact provided by ADM is the KDM metamodel, which is a vertical and horizontal standard metamodel that represents all elements of the existing information  technology architectures. KDM is structured in a hierarchy of four layers; \textit{Infrastructure Layer}, \textit{Program Elements Layer}, \textit{ Runtime Resource Layer} and \textit{Abstractions Layer}. We are specially interested in the \textit{Program Elements Layer} because it defines the ``Code'' packages which is widely used by our tool. It defines a set of metaclasses that represents the common elements in the source code supported by different programming languages such as: (\textit{i}) ``ClassUnit'' and ``InterfaceUnit'' which represent classes and interface, respectively, (\textit{ii}) ``StorableUnit'' which illustrates attributes and (\textit{iii}) ``MethodUnit'' to represent methods, etc.

On the other hand, refactoring has been known and highly used both industrially and academically. It is a form of transformation that was initially defined by Opdyke [ref] in the discipline of Object Oriented (OO) Programming as ``a change made to the internal structure of the software while preserving its external behavior at the same level of abstraction''. Nowadays it is possible to identify several catalogs of refactoring for different languages. The most complete and influential was published by Fowler in [6] for refactoring of Java code. 
However, while software reengineers would greatly benefit from the possibility to assess different choices, in practice they mostly rely on experience or intuition because of the lack of approaches providing comparison between possible variations of a change. 
Therefore, software reengineers do not have the possibility to easily apply analyses on different source-code version branches of a system and compare them to pick up the most adequate changes. In this context, the motivations for moving from software refactoring  to model refactoring are: 
(\textit{i}) a model provides an abstract view of the system, hence, visualizations of the structural changes required are easier, 
(\textit{ii}) problems uncovered at the design-level can be improved directly on the model and 
(\textit{iii}) using refactoring in high abstract level can allow the software engineer to explore alternate design paths in much cheaper than software refactoring.

To overcome the described problems, we devised a \textit{plug-in} on the top of the Eclipse Platform named KDM-RE (\textbf{K}nowledge \textbf{D}iscovery \textbf{M}odel-\textbf{R}efactoring \textbf{E}nvironment). Firstly, this \textit{plug-in} provides a model-driven refactoring based on KDM models. Secondly, it also supplies a multiple versions of a system at level models (KDM), enabling to the engineer  to work interactively on multiple models and to explore alternate refactoring path. Finally, after the best alternate refactoring path is chosen by the engineer, a forward engineering is performed and the source code of the refactored target system is generated again. Notice that KDM-RE supports 16 refactorings that are heavily inspired by the refatorings given by Fowler~\cite{aqui}. These refactorings are split up into three groups. The first group named \textbf{Moving Features Between Objects} which consists of relatively simple refactorings such as moving and creating features. The second group called \textbf{Organizing Data} is a set of refactorings to be applied in order to make working with data easier. The third group is named \textbf{Dealing With Generalization} and it represents refactorings to mostly dealing with moving methods and fields around a hierarchy of inheritance. This paper is organized as followed: Section 2 provides information related to KDM-RE - Section 3 the architecture of KDM-RE is depicted - in Section 4 there are related works and in Section 5 we conclude the paper with some remarks and future directions.





